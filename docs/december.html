<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
   <title>
    december
   </title>
   <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
                "tex2jax": { inlineMath: [['$', '$']] }
                       });
   </script>
   <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript">
   </script>
   <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
    <style>
     .hll {
            background-color: #ffffcc
        }

        .c {
            color: #408080;
            font-style: italic
        }

        /* Comment */
        .err {
            border: 1px solid #FF0000
        }

        /* Error */
        .k {
            color: #008000;
            font-weight: bold
        }

        /* Keyword */
        .o {
            color: #666666
        }

        /* Operator */
        .ch {
            color: #408080;
            font-style: italic
        }

        /* Comment.Hashbang */
        .cm {
            color: #408080;
            font-style: italic
        }

        /* Comment.Multiline */
        .cp {
            color: #BC7A00
        }

        /* Comment.Preproc */
        .cpf {
            color: #408080;
            font-style: italic
        }

        /* Comment.PreprocFile */
        .c1 {
            color: #408080;
            font-style: italic
        }

        /* Comment.Single */
        .cs {
            color: #408080;
            font-style: italic
        }

        /* Comment.Special */
        .gd {
            color: #A00000
        }

        /* Generic.Deleted */
        .ge {
            font-style: italic
        }

        /* Generic.Emph */
        .gr {
            color: #FF0000
        }

        /* Generic.Error */
        .gh {
            color: #000080;
            font-weight: bold
        }

        /* Generic.Heading */
        .gi {
            color: #00A000
        }

        /* Generic.Inserted */
        .go {
            color: #888888
        }

        /* Generic.Output */
        .gp {
            color: #000080;
            font-weight: bold
        }

        /* Generic.Prompt */
        .gs {
            font-weight: bold
        }

        /* Generic.Strong */
        .gu {
            color: #800080;
            font-weight: bold
        }

        /* Generic.Subheading */
        .gt {
            color: #0044DD
        }

        /* Generic.Traceback */
        .kc {
            color: #008000;
            font-weight: bold
        }

        /* Keyword.Constant */
        .kd {
            color: #008000;
            font-weight: bold
        }

        /* Keyword.Declaration */
        .kn {
            color: #008000;
            font-weight: bold
        }

        /* Keyword.Namespace */
        .kp {
            color: #008000
        }

        /* Keyword.Pseudo */
        .kr {
            color: #008000;
            font-weight: bold
        }

        /* Keyword.Reserved */
        .kt {
            color: #B00040
        }

        /* Keyword.Type */
        .m {
            color: #666666
        }

        /* Literal.Number */
        .s {
            color: #BA2121
        }

        /* Literal.String */
        .na {
            color: #7D9029
        }

        /* Name.Attribute */
        .nb {
            color: #008000
        }

        /* Name.Builtin */
        .nc {
            color: #0000FF;
            font-weight: bold
        }

        /* Name.Class */
        .no {
            color: #880000
        }

        /* Name.Constant */
        .nd {
            color: #AA22FF
        }

        /* Name.Decorator */
        .ni {
            color: #999999;
            font-weight: bold
        }

        /* Name.Entity */
        .ne {
            color: #D2413A;
            font-weight: bold
        }

        /* Name.Exception */
        .nf {
            color: #0000FF
        }

        /* Name.Function */
        .nl {
            color: #A0A000
        }

        /* Name.Label */
        .nn {
            color: #0000FF;
            font-weight: bold
        }

        /* Name.Namespace */
        .nt {
            color: #008000;
            font-weight: bold
        }

        /* Name.Tag */
        .nv {
            color: #19177C
        }

        /* Name.Variable */
        .ow {
            color: #AA22FF;
            font-weight: bold
        }

        /* Operator.Word */
        .w {
            color: #bbbbbb
        }

        /* Text.Whitespace */
        .mb {
            color: #666666
        }

        /* Literal.Number.Bin */
        .mf {
            color: #666666
        }

        /* Literal.Number.Float */
        .mh {
            color: #666666
        }

        /* Literal.Number.Hex */
        .mi {
            color: #666666
        }

        /* Literal.Number.Integer */
        .mo {
            color: #666666
        }

        /* Literal.Number.Oct */
        .sb {
            color: #BA2121
        }

        /* Literal.String.Backtick */
        .sc {
            color: #BA2121
        }

        /* Literal.String.Char */
        .sd {
            color: #BA2121;
            font-style: italic
        }

        /* Literal.String.Doc */
        .s2 {
            color: #BA2121
        }

        /* Literal.String.Double */
        .se {
            color: #BB6622;
            font-weight: bold
        }

        /* Literal.String.Escape */
        .sh {
            color: #BA2121
        }

        /* Literal.String.Heredoc */
        .si {
            color: #BB6688;
            font-weight: bold
        }

        /* Literal.String.Interpol */
        .sx {
            color: #008000
        }

        /* Literal.String.Other */
        .sr {
            color: #BB6688
        }

        /* Literal.String.Regex */
        .s1 {
            color: #BA2121
        }

        /* Literal.String.Single */
        .ss {
            color: #19177C
        }

        /* Literal.String.Symbol */
        .bp {
            color: #008000
        }

        /* Name.Builtin.Pseudo */
        .vc {
            color: #19177C
        }

        /* Name.Variable.Class */
        .vg {
            color: #19177C
        }

        /* Name.Variable.Global */
        .vi {
            color: #19177C
        }

        /* Name.Variable.Instance */
        .il {
            color: #666666
        }

        /* Literal.Number.Integer.Long */

        .task-list-item {
            list-style-type: none;
        }

        .task-list-item input {
            margin: 0 4px 0.25em -20px;
            vertical-align: middle;
        }

        a { text-decoration: none; }

        #post {
            font-family: 'Roboto', sans-serif;
            width: 800px;
            margin: 1em auto;
            color: #2e3436;
        }

        #header {
            font-family: 'Roboto', sans-serif;
            width: 800px;
            margin: 1em auto;
            padding-bottom: 1em;
            color: #2e3436;
            border-bottom: solid;
            border-bottom-width: thin;
        }

        #footer {
            font-family: 'Roboto', sans-serif;
            width: 400px;
            margin: 1em auto;
            color: #2e3436;
            text-align: center;
            font-size: small;
        }
    </style>
   </link>
  </meta>
 </head>
 <body>
  <div id="header">
   <a href="/">
    Index
   </a>
   - Aaron Nowack
  </div>
  <div id="post">
   <h1 id="post-title">
    december
   </h1>
   <h3 id="post-date">
   </h3>
   <h1>
    December 16
   </h1>
   <p>
    Not sure where the past few months went .. trying to get back into it.
   </p>
   <p>
    Working on creating a Python library for reading neutron data files (cross sections, multiplicity, more?) directly to be able to calculate quantities and probabilities within scripts.
   </p>
   <p>
    Thought of several options
    <em>
     Query the NNDC website directly for each quantity.
    </em>
    Download / Read ENDF files, either downloaded from NNDC or a local MCNP install
* Download / Read ACE formatted files, either downloaded from NNDC or a local MCNP install
   </p>
   <p>
    Of the options reading ACE formatted files seemed to be the simplest, basically because ENDF data files may contain several errors.
   </p>
   <p>
    In the MCNP format the latest data release from ENDF/B-VII.1 Release 0 is stored in ACE format at: $MCNP_DIR\MCNP_DATA\xdata\endf71x
   </p>
   <p>
    From inspection, I think the data description is done through the file name and the ACE file contains a simple header and then plain tabulated cross-section data.
   </p>
   <h3>
    ACE Filename Format
   </h3>
   <p>
    With ENDF/B-VII.1 a new ACE filename format was created called SZAX identifiers, in addition to a modified header format. This is detailed in LA-UR-12-25177
   </p>
   <p>
    SSSZZZAAA.dddCC
   </p>
   <p>
    SSS - Excited State
ZZZ - Atomic Number
AAA - Atomic Mass Number
ddd - Library Identifier
CC  - Class of Data
   </p>
   <p>
    Given S (excited state), Z and A the SZA identifier can be structed as
   </p>
   <p>
    SZA = S * 1000000 + Z * 1000 + A
   </p>
   <p>
    The suffix (dddCC) described the data classes and is listed as
   </p>
   <p>
    Class (CC) | Incident Particle | Description
---------- | ----------------- | -----------
nc         | Neutron           | Transport, continuous-energy
nd         | Neutron           | Transport, discrete-reaction
nm         | Neutron           | Transport, multigroup
pp         | Photon            | Photoatomic, continuous-energy
pu         | Photon            | Photonuclear, continuous-energy
ny         | Neutron           | Dosimetry
nt         | Neutron           | Thermal S(alpha, beta) discrete or continuous-energy
   </p>
   <h3>
    ACE Header Format
   </h3>
   <div class="codehilite">
    <pre><span></span>FMTVERSION SZAX SOURCE
ATWGTR TEMP DATE N
N lines of comments
</pre>
   </div>
   <p>
    Variable      | Format         | Description
------------- | -------------- | -----------
FMTVERSION    | 10 ASCII CHAR  | Format Version Number (2.0.0)
SZAX          | 24 ASCII CHAR  | SZA + suffi(X)
SOURCE        | 24 ASCII CHAR  | Source of data (ENDF/B-VII.1)
ATWGTR        | 12 CHAR NUMBER | Atomic Weight Ratio of nuclide to neutron
TEMP          | 12 CHAR NUMBER | Temperature of processed data (in MeV)
DATE          | 8 ASCII CHAR   | Date when data table was created
N             | INTEGER        | Number of comment lines
Comment Lines | 70 ASCII CHAR  | N 70 Character long comment lines
   </p>
   <div class="codehilite">
    <pre><span></span>ZZZAAA_1  ATWGTR_1  ZZZAAA_2  ATWGTR_2  ZZZAAA_3  ATWGTR_3  ZZZAAA_4  ATWGTR_4
ZZZAAA_5  ATWGTR_5  ZZZAAA_6  ATWGTR_6  ZZZAAA_7  ATWGTR_7  ZZZAAA_8  ATWGTR_8
ZZZAAA_9  ATWGTR_9  ZZZAAA_10 ATWGTR_10 ZZZAAA_11 ATWGTR_11 ZZZAAA_12 ATWGTR_12
ZZZAAA_13 ATWGTR_13 ZZZAAA_14 ATWGTR_14 ZZZAAA_15 ATWGTR_15 ZZZAAA_16 ATWGTR_16
</pre>
   </div>
   <p>
    16 pairs of ZZZAAA and atomic weight ratios needed in the past for photoatomic tables but now ignored. The ZZZAAA are still used for thermal tables to indicate what scattering data is appropriate.
   </p>
   <p>
    This is then followed by the NXS array
   </p>
   <div class="codehilite">
    <pre><span></span>NXS(1) NXS(2) ... NXS(8)
NXS(9) NXS(10) ... NXS(16)
</pre>
   </div>
   <p>
    The definitions for continuous-energy neutron data is given as follows
   </p>
   <p>
    NTY     | Description
------- | -----------
NXS(1)  | Length of second block of data
NXS(2)  | ZA = 1000 * Z + A
NXS(3)  | NES = Number of Energies
NXS(4)  | NTR = Number of reactions excluding elastic
NXS(5)  | NR = Number of reactions having secondary neutrons excluding elastic
NXS(6)  | NTRP = Number of photon production reactions
NXS(7)  | 
NXS(8)  | NPCR = Number of delayed neutron precursor families
NXS(9)  | Excited State Number
NXS(10) | Atomic Number
NXS(11) | Atomic Mass Number
NXS(12) | 
NXS(13) | 
NXS(14) | 
NXS(15) | NT = Number of PIKMT reactions
NXS(16) | 0 = Normal Photon Production, -1 = Do not produce photons
   </p>
   <p>
    This is then followed by the JXS array
   </p>
   <div class="codehilite">
    <pre><span></span>JXS(1) JXS(2) ... JXS(8)
JXS(9) JXS(10) ... JXS(16)
JXS(17) JXS(18) ... JXS(24)
JXS(25) JXS(26) ... JXS(32)
</pre>
   </div>
   <p>
    The definitions for continuous-energy neutron data is given as follows
   </p>
   <p>
    NTY     | Description
------- | -----------
JXS(1)  | ESZ = Location of Energy Table
JXS(2)  | NU = Location of fission nu data
JXS(3)  | MTR = Location of MT array
JXS(4)  | LQR = Location of Q-Value array
JXS(5)  | TYR = Location of Reaction Type array
JXS(6)  | LSIG = Location of table of cross-section locators
JXS(7)  | SIG = Location of cross sections
JXS(8)  | LAND = Location of table of angular distribution locators
JXS(9)  | AND = Location of angular distributions
JXS(10) | LDLW = Location of table of energy distribution locators
JXS(11) | DLW = Location of Energy distributions
JXS(12) | GPD = Location of photon production data
JXS(13) | MTRP = Location of Photon production MT array
JXS(14) | LSIGP = Location of table of photon production cross-section locators
JXS(15) | SIGP = Location of photon production cross sections
JXS(16) | LANDP = Location of table of photon production angular distribution locators
JXS(17) | ANDP = Location of photon production angular distributions
JXS(18) | LDLWP = Location of table of photon production energy distribution locators
JXS(19) | DLWP = Location of photon production energy distributions
JXS(20) | YP = Location of table of yield multipliers
JXS(21) | FIS = Location of Total Fission cross-section
JXS(22) | END = Location of last word of this table
JXS(23) | LUNR = Location of probabilitity tables
JXS(24) | DNU = Location of delayed nubar data
JXS(25) | BDD = Location of basic delayed data
JXS(26) | DNEDL = Location of table of energy distribution locators
JXS(27) | DNED = Location of energy distributions
JXS(28) | 
JXS(29) | 
JXS(30) | 
JXS(31) | 
JXS(32) |
   </p>
  </div>
  <div id="footer">
   Created using
   <a href="https://github.com/abnowack/ButteredPost">
    ButteredPost
   </a>
  </div>
 </body>
</html>